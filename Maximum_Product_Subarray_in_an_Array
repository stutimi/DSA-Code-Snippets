class Solution {
public:
    int maxProduct(vector<int>& a) {
        int n = a.size(), ans = INT_MIN, pre = 1, suf = 1;
        for (int i = 0; i < n; ++i) {
            pre = (pre ? pre : 1) * a[i];
            suf = (suf ? suf : 1) * a[n - i - 1];
            ans = max({ans, pre, suf});
        }
        return ans;
    }
};
